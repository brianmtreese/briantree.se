---
layout: default
---

{% assign valid_tags = "" | split: "," %} {% for page in site.pages %} {% if
page.layout == "tag" and page.tag %} {% assign valid_tags = valid_tags | push:
page.tag %} {% endif %} {% endfor %}

<div class="home" id="tags">
	<h1 class="pageTitle">{{ page.tag }}</h1>

	{%- assign posts_per_page = site.paginate | default: 20 -%} {%- assign
	all_tag_posts = site.tags[page.tag] -%} {%- if all_tag_posts == nil or
	all_tag_posts.size == 0 -%} {%- assign all_tag_posts = "" | split: "," -%} {%-
	for post in site.posts -%} {%- if post.tags contains page.tag -%} {%- assign
	all_tag_posts = all_tag_posts | push: post -%} {%- endif -%} {%- endfor -%}
	{%- endif -%} {%- assign total_posts = all_tag_posts.size -%} {%- assign
	total_pages = total_posts | divided_by: posts_per_page -%} {%- assign
	remainder = total_posts | modulo: posts_per_page -%} {%- if remainder > 0 -%}
	{%- assign total_pages = total_pages | plus: 1 -%} {%- endif -%}

	<div class="home-layout">
		<div
			class="home-main"
			data-tag-posts
			data-posts-per-page="{{ posts_per_page }}"
			data-total-posts="{{ total_posts }}"
		>
			{%- assign post_index = 0 -%} {%- for post in all_tag_posts -%} {%- assign
			post_index = post_index | plus: 1 -%}
			<article
				class="post-card"
				data-post-index="{{ post_index }}"
				{%
				if
				post_index
			>
				posts_per_page %}style="display: none;"{% endif %} >
				<div class="post-card__content">
					{% if post.video_id and post.video_id != "" %}
					<a class="post-card__image" href="{{ post.url | relative_url }}">
						<img
							src="https://img.youtube.com/vi/{{post.video_id}}/maxresdefault.jpg"
							alt="{{ post.title }}"
							loading="lazy"
						/>
					</a>
					{% endif %}
					<div class="post-card__text">
						{% if post.tags.size > 0 %}
						<div class="post-card__tags">
							{% for tag in post.tags limit: 3 %} {% assign tag_exists = false
							%} {% for valid_tag in valid_tags %} {% if valid_tag == tag %} {%
							assign tag_exists = true %} {% endif %} {% endfor %} {% if
							tag_exists %} {% assign tagUrl = "/tags/" | append: tag | downcase
							| replace: " ","-" %}
							<a href="{{ tagUrl | relative_url }}" class="post-tag"
								>{{ tag }}</a
							>
							{% else %}
							<span class="post-tag">{{ tag }}</span>
							{% endif %} {% endfor %}
						</div>
						{% endif %}
						<h2 class="post-card__title">
							<a class="post-link" href="{{ post.url | relative_url }}"
								>{{ post.title }}</a
							>
						</h2>
						<span class="post-card__date"
							>{{ post.date | date: '%B %d, %Y' }}</span
						>
						<p class="post-card__excerpt">
							{%- if post.description -%}{{ post.description }}{%- else -%}{{
							post.excerpt | strip_html }}{%- endif -%}
						</p>
					</div>
				</div>
			</article>
			{%- endfor -%}
		</div>

		<!-- Sidebar -->
		<aside class="home-sidebar">
			<div class="author-card">
				<img
					class="author-card__image"
					src="{{ '/assets/img/profile.jpg' | relative_url }}"
					alt="Brian Treese"
				/>
				<div class="author-card__content">
					<h3 class="author-card__name">Brian Treese</h3>
					<p class="author-card__bio">
						Angular Google Developer Expert (GDE), Chief of User Experience at  
						<a href="https://socreate.it">SoCreate</a>. Angular developer,
						educator, and content creator with over 20 years of web development
						experience. I create practical tutorials, courses, and resources to
						help developers master Angular, including Signals, Components,
						Forms, Animations, CDK, and modern CSS techniques.
					</p>
					<div class="author-card__links">
						<a href="/about">About</a> |
						<a
							href="https://www.youtube.com/@briantreese"
							target="_blank"
							rel="noopener"
							>YouTube</a
						>
						|
						<a
							href="https://www.pluralsight.com/authors/brian-treese"
							target="_blank"
							rel="noopener"
							>Courses</a
						>
					</div>
				</div>
			</div>

			<div class="topics-card">
				<h3 class="topics-card__title">Topics</h3>
				<ul class="topics-card__list">
					{% assign valid_tags = "" | split: "," %} {% for page in site.pages %}
					{% if page.layout == "tag" and page.tag %} {% assign valid_tags =
					valid_tags | push: page.tag %} {% endif %} {% endfor %} {% for tag in
					site.tags %} {% unless tag[0] == "The DOM COM Show" %} {% assign
					tag_exists = false %} {% for valid_tag in valid_tags %} {% if
					valid_tag == tag[0] %} {% assign tag_exists = true %} {% endif %} {%
					endfor %} {% if tag_exists %} {% assign tagUrl = "/tags/" | append:
					tag[0] | downcase | replace: " ","-" %}
					<li class="topics-card__item">
						<a href="{{ tagUrl | relative_url }}" class="topics-card__link"
							>{{ tag[0] }}</a
						>
					</li>
					{% endif %} {% endunless %} {% endfor %}
				</ul>
			</div>
		</aside>
	</div>

	<!-- Pagination links -->
	{%- if total_pages > 1 -%}
	<div class="pagination" data-tag-pagination>
		<a
			href="#"
			data-pagination-prev
			class="previous button__outline"
			style="display: none"
			>Newer Posts</a
		>
		<a href="#" data-pagination-next class="next button__outline"
			>Older Posts</a
		>
	</div>
	{%- endif -%}
</div>

<script>
	(function () {
		if (typeof document === "undefined") return;

		var postsContainer = document.querySelector("[data-tag-posts]");
		if (!postsContainer) return;

		var postsPerPage =
			parseInt(postsContainer.getAttribute("data-posts-per-page")) || 20;
		var totalPosts =
			parseInt(postsContainer.getAttribute("data-total-posts")) || 0;
		var totalPages = Math.ceil(totalPosts / postsPerPage);

		// Get current page from URL
		var urlParams = new URLSearchParams(window.location.search);
		var currentPage = parseInt(urlParams.get("page")) || 1;

		function showPage(page) {
			var posts = postsContainer.querySelectorAll("[data-post-index]");
			var startIndex = (page - 1) * postsPerPage + 1;
			var endIndex = page * postsPerPage;

			posts.forEach(function (post) {
				var index = parseInt(post.getAttribute("data-post-index"));
				if (index >= startIndex && index <= endIndex) {
					post.style.display = "";
				} else {
					post.style.display = "none";
				}
			});

			// Update pagination buttons
			var prevBtn = document.querySelector("[data-pagination-prev]");
			var nextBtn = document.querySelector("[data-pagination-next]");

			if (prevBtn) {
				if (currentPage > 1) {
					prevBtn.style.display = "";
					var prevPage = currentPage - 1;
					var prevUrl =
						prevPage === 1
							? window.location.pathname
							: window.location.pathname + "?page=" + prevPage;
					prevBtn.href = prevUrl;
				} else {
					prevBtn.style.display = "none";
				}
			}

			if (nextBtn) {
				if (currentPage < totalPages) {
					nextBtn.style.display = "";
					nextBtn.href =
						window.location.pathname + "?page=" + (currentPage + 1);
				} else {
					nextBtn.style.display = "none";
				}
			}
		}

		// Initialize
		showPage(currentPage);
	})();
</script>
